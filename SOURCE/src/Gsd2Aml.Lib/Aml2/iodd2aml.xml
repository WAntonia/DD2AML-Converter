<?xml version="1.0" encoding="utf-8" ?>
<body>

  <ProfileHeader>
    <Replacement>
      <AdditionalInformation>
        <WriterHeader>
          <WriterName>DHBW Stuttgart TINF18C</WriterName>
          <WriterID>D331B5B6-C3FA-4D3C-8F6D-93F6F0215EF4</WriterID>
          <WriterVendor>DD2AML TINF18C</WriterVendor>
          <WriterVersion>1.0.0</WriterVersion>
          <WriterRelease>1.0.0</WriterRelease>
          <LastWritingDateTime></LastWritingDateTime>
          <WriterProjectTitle>DD2AML Converter</WriterProjectTitle>
          <WriterProjectID>DD2AML Converter</WriterProjectID>
        </WriterHeader>
      </AdditionalInformation>
    </Replacement>
  </ProfileHeader>

  <ProfileBody>
    <Replacement>
      <CAEXFile.SystemUnitClassLib>
        <SystemUnitClassLib CAEXObject.Name="ComponentSystemUnitClassLib">
        </SystemUnitClassLib>
      </CAEXFile.SystemUnitClassLib>
    </Replacement>
  </ProfileBody>

  <DeviceIdentity>
    <Replacement>
      <CAEXFile.SystemUnitClass>
        <SystemUnitClass CAEXObject.Name="$1" CAEXObject.ID="GUID">
          <!--DeviceName (BNI IOL-355-S02-Z013)-->

         <SystemUnitClassType.SupportedRoleClass>
            <SupportedRoleClass SupportedRoleClass.RefRoleClassPath="AutomationMLComponentBaseRCL/AdditionalDeviceDescription/IODD" />
          </SystemUnitClassType.SupportedRoleClass> 

          <SystemUnitClassType.InternalElement>
            <InternalElement CAEXObject.Name="DeviceIdentity" CAEXObject.ID="GUID">
              <SystemUnitClassType.Attribute>

                <Attribute CAEXObject.Name="VendorId" Attribute.AttributeDataType="xs:integer">
                  <Attribute.Value>$2</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="VendorName" Attribute.AttributeDataType="xs:string">
                  <Attribute.Value>$3</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="DeviceId" Attribute.AttributeDataType="xs:integer">
                  <Attribute.Value>$4</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="VendorText" Attribute.AttributeDataType="xs:string">
                  <Attribute.Value>$5</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="VendorUrl" Attribute.AttributeDataType="xs:anyURI">
                  <Attribute.Value>$6</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="DeviceFamily" Attribute.AttributeDataType="xs:string">
                  <Attribute.Value>$7</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="DeviceName" Attribute.AttributeDataType="xs:string">
                  <Attribute.Value>$8</Attribute.Value>
                  <!--<RefSemantic CorrespondingAttributePath="ECLASS:0173-1#02-AAO676#002" />-->
                </Attribute>

              </SystemUnitClassType.Attribute>
            </InternalElement>

            <InternalElement CAEXObject.Name="ManufacturerIcon" CAEXObject.ID="GUID">
              <SystemUnitClassType.SupportedRoleClass>
                <SupportedRoleClass SupportedRoleClass.RefRoleClassPath="AutomationMLComponentStandardRCL/ManufacturerIcon" />
              </SystemUnitClassType.SupportedRoleClass>
              
              <SystemUnitClassType.ExternalInterface>
                <ExternalInterface CAEXObject.Name="ExternalDataConnector" CAEXObject.ID="GUID" ExternalInterface.RefBaseClassPath="AutomationMLInterfaceClassLib/AutomationMLBaseInterface/ExternalDataConnector">
                  <ExternalInterface.Attribute>
                    <Attribute CAEXObject.Name="refURI" Attribute.AttributeDataType="xs:anyURI">
                      <Attribute.Value>$9</Attribute.Value>
                    </Attribute>
                  </ExternalInterface.Attribute>
                </ExternalInterface>

              </SystemUnitClassType.ExternalInterface>
            </InternalElement>

            <InternalElement CAEXObject.Name="IODD" CAEXObject.ID="GUID">
              <SystemUnitClassType.SupportedRoleClass>
                <SupportedRoleClass SupportedRoleClass.RefRoleClassPath="AutomationMLComponentBaseRCL/AdditionalDeviceDescription" />
              </SystemUnitClassType.SupportedRoleClass>

              <SystemUnitClassType.ExternalInterface>
                <ExternalInterface CAEXObject.Name="IODD 1.1" CAEXObject.ID="GUID" ExternalInterface.RefBaseClassPath="AutomationMLInterfaceClassLib/AutomationMLBaseInterface/ExternalDataConnector">
                  <ExternalInterface.Attribute>
                    <Attribute CAEXObject.Name="refURI" Attribute.AttributeDataType="xs:anyURI">
                      <Attribute.Value>$10</Attribute.Value>
                    </Attribute>
                    <Attribute CAEXObject.Name="MIMEType" Attribute.AttributeDataType="xs:string">
                      <Attribute.Value>application/xml</Attribute.Value>
                    </Attribute>
                  </ExternalInterface.Attribute>
                </ExternalInterface>
              </SystemUnitClassType.ExternalInterface>
            </InternalElement>

            <InternalElement CAEXObject.Name="DeviceVariantCollection" CAEXObject.ID="GUID>">
              <CAEXFile.SystemUnitClass>
                <Rule>ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant</Rule>
              </CAEXFile.SystemUnitClass>
              
            </InternalElement>
          </SystemUnitClassType.InternalElement>

        </SystemUnitClass>
      </CAEXFile.SystemUnitClass>

    </Replacement>

    <!-- DeviceName -->
    <Reference Ref="$1" Type="TextRef">
      <ProfileBody.DeviceIdentity.DeviceName textId=""/>
    </Reference>
    <!--VendorId-->
    <Reference Ref="$2">
      <ProfileBody.DeviceIdentity vendorId=""/>
    </Reference>
    <!--VendorName-->
    <Reference Ref="$3">
      <ProfileBody.DeviceIdentity vendorName=""/>
    </Reference>
    <!--DeviceId-->
    <Reference Ref="$4">
      <ProfileBody.DeviceIdentity deviceId=""/>
    </Reference>
    <!--VendorText-->
    <Reference Ref="$5" Type="TextRef">
      <ProfileBody.DeviceIdentity.VendorText textId=""/>
    </Reference>
    <!--VendorURL-->
    <Reference Ref="$6" Type="TextRef">
      <ProfileBody.DeviceIdentity.VendorUrl textId=""/>
    </Reference>
    <!--DeviceFamily-->
    <Reference Ref="$7" Type="TextRef">
      <ProfileBody.DeviceIdentity.DeviceFamily textId=""/>
    </Reference>
    <!--DeviceName-->
    <Reference Ref="$8" Type="TextRef">
      <ProfileBody.DeviceIdentity.DeviceName textId=""/>
    </Reference>
    <!--VendorLogo-->
    <Reference Ref="$9">
      <ProfileBody.DeviceIdentity.VendorLogo name=""/>
    </Reference>
    <!--Filepath-->
    <Reference Ref="$10" Type="RelFilePath" />
  </DeviceIdentity>

  <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant>
    <Replacement>
        <SystemUnitClass CAEXObject.Name="$5" CAEXObject.ID="GUID" SystemUnitClass.RefBaseClassPath="DD2AML.Lib/$1">
          <SystemUnitClassType.Attribute>
            <Attribute CAEXObject.Name="productId" Attribute.AttributeDataType="xs:string">
              <Attribute.Value>$1</Attribute.Value>
            </Attribute>
            <Attribute CAEXObject.Name="Description" Attribute.AttributeDataType="xs:string">
              <Attribute.Value>$2</Attribute.Value>
            </Attribute>
          </SystemUnitClassType.Attribute>
          
          <SystemUnitClassType.InternalElement>
            <InternalElement CAEXObject.Name="deviceSymbol" CAEXObject.ID="GUID">
<!--HIER IST IRGENDEIN FEHLER DEBUGGEN!!-->
              <SystemUnitClassType.RoleRequirements>
                <RoleRequirements RoleRequirements.RefBaseRoleClassPath="AutomationMLComponentStandardRCL/ComponentPicture"/>
              </SystemUnitClassType.RoleRequirements>

              <SystemUnitClassType.ExternalInterface>
                <ExternalInterface CAEXObject.Name="ExternalDataReference" CAEXObject.ID="GUID" ExternalInterface.RefBaseClassPath="AutomationMLInterfaceClassLib/AutomationMLBaseInterface/ExternalDataConnector">
                  <ExternalInterface.Attribute>
                    <Attribute CAEXObject.Name="refURI" Attribute.AttributeDataType="xs:anyURI">
                      <Attribute.Value>$3</Attribute.Value>
                    </Attribute>
                  </ExternalInterface.Attribute>
                </ExternalInterface>
              </SystemUnitClassType.ExternalInterface>
            </InternalElement>

            <InternalElement CAEXObject.Name="deviceIcon" CAEXObject.ID="GUID">
              <SystemUnitClassType.RoleRequirements>
                <RoleRequirements RoleRequirements.RefBaseRoleClassPath="AutomationMLComponentStandardRCL/ComponentIcon"/>
              </SystemUnitClassType.RoleRequirements>

              <SystemUnitClassType.ExternalInterface>
                <ExternalInterface CAEXObject.Name="ExternalDataReference" CAEXObject.ID="GUID" RefBaseClassPath="AutomationMLInterfaceClassLib/AutomationMLBaseInterface/ExternalDataConnector">
                  <Attribute CAEXObject.Name="refURI" Attribute.AttributeDataType="xs:anyURI">
                    <Attribute.Value>$4</Attribute.Value>
                  </Attribute>
                </ExternalInterface>
              </SystemUnitClassType.ExternalInterface>
            </InternalElement>
          </SystemUnitClassType.InternalElement>
        </SystemUnitClass>

    </Replacement>
    
    <!--productId-->
    <Reference Ref="$1">
      <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant productId=""/>
    </Reference>
    <!--Description-->
    <Reference Ref="$2" Type="TextRef">
      <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant.Description textId=""/>
    </Reference>
    <!--DeviceSymbol-->
    <Reference Ref="$3">
      <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant deviceSymbol=""/>
    </Reference>
    <!--DeviceIcon-->
    <Reference Ref="$4">
      <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant deviceIcon=""/>
    </Reference>
    <!--DeviceName-->
    <Reference Ref="$5" Type="TextRef">
      <ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant.Name textId=""/>
    </Reference>

  </ProfileBody.DeviceIdentity.DeviceVariantCollection.DeviceVariant>

  <DeviceFunction>
    <Replacement>
      <CAEXFile.SystemUnitClass>

        <SystemUnitClassType.InternalElement>
          <InternalElement CAEXObject.Name="Features" CAEXObject.ID="Features">
            <SystemUnitClassType.Attribute>
              <Attribute CAEXObject.Name="blockParameter" AttributeDataType="xs:boolean">
                <Attribute.Value>$1</Attribute.Value>
              </Attribute>

              <Attribute CAEXObject.Name="dataStorage" AttributeDataType="xs:boolean">
                <Attribute.Value>$2</Attribute.Value>
              </Attribute>
            </SystemUnitClassType.Attribute>
            <InternalElement CAEXObject.Name="SupportedAccessLocks" CAEXObject.ID="GUID">
              <SystemUnitClassType.Attribute>
                <Attribute CAEXObject.Name="parameter" AttributeDataType="xs:boolean">
                  <Attribute.Value>$3</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="dataStorage" AttributeDataType="xs:boolean">
                  <Attribute.Value>$4</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="localUserInterface" AttributeDataType="xs:boolean">
                  <Attribute.Value>$5</Attribute.Value>
                </Attribute>

                <Attribute CAEXObject.Name="localParameterization" AttributeDataType="xs:boolean">
                  <Attribute.Value>$6</Attribute.Value>
                </Attribute>
              </SystemUnitClassType.Attribute>
            </InternalElement>
          </InternalElement>
        </SystemUnitClassType.InternalElement>
        
        <SystemUnitClassType.InternalElement>
          <InternalElement CAEXObject.Name="VariableCollection" CAEXObject.ID="GUID">
            <SystemUnitClassType.Attribute>
              <Attribute CAEXObject.Name="V_ApplicationSpecificTag" CAEXObject.ID="V_ApplicationSpecificTag" Attribute.AttributeDataType="xs:string">
                <Attribute.DefaultValue>$7</Attribute.DefaultValue>
              </Attribute>
                <InternalElement>
                  <Rule>ProfileBody.DeviceFunction.VariableCollection.Variable</Rule>
                </InternalElement>
                <!--    <Attribute CAEXObject.Name="accessRightRestriction" Attribute.AttributeDataType="xs:string">
                            <Attribute.Value>ro</Attribute.Value>
                          </Attribute>\-->

              <Attribute CAEXObject.Name="V_HardwareRevision"  CAEXObject.ID="V_HardwareRevision" Attribute.AttributeDataType="xs:string">
                <Attribute.Value>$8</Attribute.Value>
              </Attribute>

              <Attribute CAEXObject.Name="V_FirmwareRevision" CAEXObject.ID="V_FirmwareRevision" Attribute.AttributeDataType="xs:string">
                <Attribute.Value>$9</Attribute.Value>
              </Attribute>
            </SystemUnitClassType.Attribute>
          </InternalElement>
        </SystemUnitClassType.InternalElement>
      </CAEXFile.SystemUnitClass>

      <!--blockParameter-->
      <Reference Ref="$1">
        <ProfileBody.DeviceFunction.Features blockParameter=""/>
      </Reference>
      <!--dataStorage-->
      <Reference Ref="$2">
        <ProfileBody.DeviceFunction.Features dataStorage=""/>
      </Reference>
      <!--parameter-->
      <Reference Ref="$3">
        <ProfileBody.DeviceFunction.Features.SupportedAccessLocks parameter=""/>
      </Reference>
      <!--dataStorage-->
      <Reference Ref="$4">
        <ProfileBody.DeviceFunction.Features.SupportedAccessLocks dataStorage=""/>
      </Reference>
      <!--localUserInterface-->
      <Reference Ref="$5">
        <ProfileBody.DeviceFunction.Features.SupportedAccessLocks localUserInterface=""/>
      </Reference>
      <!--localParameterization-->
      <Reference Ref="$6">
        <ProfileBody.DeviceFunction.Features.SupportedAccessLocks localParameterization=""/>
      </Reference>
      <!--V_ApplicationSpecificTag-->
      <Reference Ref="$7">
        <ProfileBody.DeviceFunction.VariableCollection.StdVariableRef defaultValue=""/>
      </Reference>
      <!--V_HardwareRevision-->
      <Reference Ref="$8" Type="TextRef">
        <ProfileBody.DeviceFunction.VariableCollection.StdVariableRef accessRightRestriction=""/>
      </Reference>
      <!--V_FirmwareRevision -->
      <Reference Ref="$9" Type="TextRef">
        <ProfileBody.DeviceFunction.VariableCollection.StdVariableRef accessRightRestriction=""/>
      </Reference>
      
    </Replacement>

  </DeviceFunction>

  <ProfileBody.DeviceFunction.VariableCollection.Variable>
    <Replacement>
      <SystemUnitClassType.InternalElement>
        <InternalElement CAEXObject.Name="$1" CAEXObject.ID="$1">
          <SystemUnitClassType.Attribute>
          
            <Attribute CAEXObject.Name="index" AttributeDataType="xs:integer">
              <Attribute.Value>$2</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="accessRights" AttributeDataType="xs:string">
              <Attribute.Value>$3</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="index" AttributeDataType="xs:integer">
              <Attribute.Value>$2</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="accessRights" AttributeDataType="xs:string">
              <Attribute.Value>$3</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="Name" AttributeDataType="xs:string">
              <Attribute.Value>$6</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="Description" AttributeDataType="xs:string">
              <Attribute.Value>$7</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="bitLength" AttributeDataType="xs:integer">
              <Attribute.Value>$4</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="subindexAccessSupported" AttributeDataType="xs:boolean">
              <Attribute.Value>$5</Attribute.Value>
            </Attribute>
          </SystemUnitClassType.Attribute>

          <SystemUnitClassType.InternalElement>
            <Rule></Rule>
          </SystemUnitClassType.InternalElement>

        </InternalElement>
      </SystemUnitClassType.InternalElement>
    </Replacement>

    <!--Variableid EVENTUELL TEXTREF-->
    <Reference Ref="$1">
      <ProfileBody.DeviceFunction.VariableCollection.Variable id=""/>
    </Reference>
    <!--Variableindex-->
    <Reference Ref="$2">
      <ProfileBody.DeviceFunction.VariableCollection.Variable index=""/>
    </Reference>
    <!--accessRights-->
    <Reference Ref="$3">
      <ProfileBody.DeviceFunction.VariableCollection.Variable accessRights=""/>
    </Reference>
    <!--bitLength-->
    <Reference Ref="$4">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype bitLength=""/>
    </Reference>
    <!--subindexAccessSupported-->
    <Reference Ref="$5">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype subindexAccessSupported=""/>
    </Reference>
    <!--VariableName-->
    <Reference Ref="$6" Type="TextRef">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Name textId=""/>
    </Reference>
    <!--VariableDescription-->
    <Reference Ref="$7"  Type="TextRef">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Description textId=""/>
    </Reference>
    
  </ProfileBody.DeviceFunction.VariableCollection.Variable>

  <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.RecordItem>
    <Replacement>
      <InternalElement CAEXObject.Name="$1" CAEXObject.ID="GUID">
        <InternalElement CAEXObject.Name="$2" CAEXObject.ID="GUID">
          <SystemUnitClassType.Attribute>
            <Attribute CAEXObject.Name="subindex" Attribute.AttributeDataType="xs:integer">
              <Attribute.Value>$3</Attribute.Value>
            </Attribute>

            <Attribute CAEXObject.Name="bitOffset" Attribute.AttributeDataType="xs:integer">
              <Attribute.Value>$4</Attribute.Value>
            </Attribute>
          </SystemUnitClassType.Attribute>
        </InternalElement>

      </InternalElement>
    </Replacement>

    <!--DatatypeName-->
    <Reference Ref="$1" Type="TextRef">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.Name textId=""/>
    </Reference>
    <!--RecordItemName-->
    <Reference Ref="$2" Type="TextRef">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.RecordItem.Name textId=""/>
    </Reference>
    <!--subindex-->
    <Reference Ref="$3">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.RecordItem subindex=""/>
    </Reference>
    <!--bitOffset-->
    <Reference Ref="$4">
      <ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.RecordItem bitOffset=""/>
    </Reference>
    
  </ProfileBody.DeviceFunction.VariableCollection.Variable.Datatype.RecordItem>
  
</body>